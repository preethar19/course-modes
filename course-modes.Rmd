---
title: "course-modes"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      warning = FALSE, 
                      message = FALSE)
```

```{r load-packages}
library(tidyverse)
```

```{r load-data}
modes <- readr::read_csv('data/Course_Modes_Coding - Sheet1.csv')
```

```{r}
modes
```

### Data cleaning

```{r, include = FALSE}
newmodes <- modes %>% 
  mutate(fall_online = `online (fall)`,
         fall_hybrid = `hybrid (fall)`,
         fall_person = `in-person (fall)`,
         spring_online = `online (spring)`,
         spring_hybrid = `hybrid (spring)`,
         spring_person = `in-person (spring)`,
         college = `trinity/pratt`,
         mmcn = `major/minor/cert/none`,
         degree = `BS/BA/both`)
```

```{r}
newmodes <- newmodes %>% 
  mutate(
    per_fall_online = ((fall_online)/((fall_online) + 
                                                 (fall_hybrid) + 
                                                 (fall_person))),
    per_fall_hybrid = ((fall_hybrid)/((fall_online) + 
                                                 (fall_hybrid) + 
                                                 (fall_person))),
    per_fall_person = ((fall_person)/((fall_online) + 
                                                 (fall_hybrid) + 
                                                 (fall_person))),
    per_spring_online = ((spring_online)/((spring_online) + 
                                                 (spring_hybrid) + 
                                                 (spring_person))),
    per_spring_hybrid = ((spring_hybrid)/((spring_online) + 
                                                 (spring_hybrid) + 
                                                 (spring_person))),
    per_spring_person = ((spring_person)/((spring_online) + 
                                                 (spring_hybrid) + 
                                                 (spring_person))),
    total_fall = ((fall_online) + (fall_hybrid) + (fall_person)),
    total_spring = ((spring_online) + (spring_hybrid) + (spring_person))
    )

```

```{r}
newmodes
```

### Analysis

```{r rounding}
options(digits = 4)
```


## Some subjects only offered online classes each semester

The following subjects only offered online classes in fall.
```{r}
newmodes %>%
  select(SUBJECT, per_fall_online, total_fall) %>% 
  arrange(desc(per_fall_online)) %>% 
  filter(
    per_fall_online == 1
  ) %>% 
  kable(digits = 3)
```

Of those, 11 subjects offered more than 1 class and 7 subjects offered 4+. 
Only 2 of these 11 subjects--ECE and Latino/a Studies in the Global South--
are non-language subjects.
```{r}
newmodes %>%
  select(SUBJECT, per_fall_online, total_fall) %>% 
  arrange(desc(per_fall_online)) %>% 
  filter(
    per_fall_online == 1,
    total_fall > 1
  ) %>% 
  kable(digits = 3)
```

The following subjects only offered online classes in spring.
```{r}
newmodes %>%
  select(SUBJECT, per_spring_online, total_spring) %>% 
  arrange(desc(per_spring_online)) %>% 
  filter(
    per_spring_online == 1
  ) %>% 
  kable(digits = 3)
```

Of those, 11 subjects offered 4+ courses in the spring. 
Only 3 of these 11 subjects--CS, Romance studies and Latino/a Studies in the 
Global South--are non-language subjects.
```{r}
newmodes %>%
  select(SUBJECT, per_spring_online, total_spring) %>% 
  arrange(desc(per_spring_online)) %>% 
  filter(
    per_spring_online == 1,
    total_spring > 3
  ) %>% 
  kable(digits = 3)
```

```{r}
newmodes %>%
  select(SUBJECT, per_fall_online, total_fall) %>% 
  arrange(desc(per_fall_online)) %>% 
  filter(total_fall > 3) %>% 
  kable(digits = 3)
```

```{r}
newmodes %>%
  select(SUBJECT, per_spring_online, total_spring) %>% 
  arrange(desc(per_spring_online)) %>% 
  filter(total_spring > 3) %>% 
  kable(digits = 3)
```

- percent online, hybrid, in person for every subject

- percent online, hybrid, in person for every subject affiliated w a dept

- percent online, hybrid, in person for every subject that's ROTC

- fall vs. spring for ROTC (no online, more in person in spring)
```{r}
newmodes %>%
  filter(ROTC == 1) %>% 
  select(SUBJECT, 
         per_fall_online, 
         per_fall_hybrid, 
         per_fall_person, 
         total_fall) %>% 
  kable(digits = 3)
```

```{r}
newmodes %>%
  filter(ROTC == 1) %>% 
  select(SUBJECT, 
         per_spring_online, 
         per_spring_hybrid, 
         per_spring_person, 
         total_spring) %>% 
  kable(digits = 3)
```

- percent online, hybrid, in person for every subject that's a major
```{r}
newmodes %>%
  filter(mmcn == "major") %>% 
  select(SUBJECT, 
         per_fall_online, 
         per_fall_hybrid, 
         per_fall_person, 
         total_fall,
         degree) %>% 
  arrange(desc(per_fall_hybrid)) %>% 
  kable(digits = 3)
```

```{r}
newmodes %>%
  filter(mmcn == "major") %>% 
  select(SUBJECT, 
         per_spring_online, 
         per_spring_hybrid, 
         per_spring_person, 
         total_spring,
         degree) %>% 
  arrange(desc(per_spring_hybrid)) %>% 
  kable(digits = 3)
```
(maybe do some sort of test to see if degree and percent hybrid are related)

- percent online, hybrid, in person for every subject that's not a major

- percent online, hybrid, in person for every subject that's a BA

- percent online, hybrid, in person for every subject that's a BSE

- percent online, hybrid, in person for every subject that's both (BA/BS)

- fall vs. spring for languages


